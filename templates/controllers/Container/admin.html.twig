{% extends 'base1.html.twig' %}

{% block title %}{% endblock %}

{% block body %}
	<footer>
		<nav class="navbar bg-light">
			<div
				class="container-fluid d-flex justify-content-between align-items-center">

				<!-- Partie gauche : logo -->
				<div class="navbar-brand mb-0 h1">LOC.VEHICULE</div>

				<!-- Partie centrale : boutons -->
				<div class="d-flex gap-2">
					<a class="btn btn-info text-white text-center px-3" href="{{ path('commentaire') }}">
						<div class="fw-bold">DISCUSSION</div>
						<div class="rounded-circle bg-white text-info fw-bold d-inline-flex justify-content-center align-items-center" style="width: 35px; height: 35px;">
							{% if commentaire %}
								{{ commentaire }}
							{% else %}
								0
							{% endif %}
						</div>
					</a>

					<a class="btn btn-info text-white text-center px-3" href="{{ path('admin') }}">
						<div class="fw-bold">VÉHICULE</div>
						<div>
							<i class="bi bi-car-front-fill fs-3"></i>
						</div>
					</a>

					<a class="btn btn-info text-white text-center px-3" href="{{ path('admiP') }}">
						<div class="fw-bold">PROPRIÉTÉ</div>
						<div>
							<i class="bi bi-person fs-3"></i>
						</div>
					</a>

					<a class="btn btn-info text-white text-center px-3" href="{{ path('commande') }}">
						<div class="fw-bold">COMMANDE</div>
						<div class="rounded-circle bg-white text-info fw-bold d-inline-flex justify-content-center align-items-center" style="width: 35px; height: 35px;">
							{% if vue %}
								{{ vue }}
							{% else %}
								0
							{% endif %}
						</div>
					</a>
				</div>

				<!-- Partie droite : déconnexion -->
				<div>
					<a href="{{ path('app_logout') }}" class="text-dark fw-bold text-decoration-none">DÉCONNECTER</a>
				</div>
			</div>
		</nav>
	</footer>

	<header>
		<div style="margin-top:20px; width:50%; margin-left:25%;">
			{% include 'Message.html.twig' %}
		</div>

		<div class="container-fluid" style="margin:4%;">
			<div
				class="row" style="width:95%;">
				<!-- Partie gauche : tableau -->
				<div class="col-sm-9 card p-3 bg-light">
					{% if indice == "proprietaire" %}
						<table class="table table-light">
							<thead class="table-light">
								<tr>
									<th scope="col">CIN</th>
									<th scope="col">NOM</th>
									<th scope="col">PRENOM</th>
									<th scope="col">TEL</th>
									<th scope="col">CONTRAT</th>
									<th scope="col">ACTIONS</th>
								</tr>
							</thead>
							<tbody>
								{% for donne in donne %}
									<tr class="table-light">
										<td>{{ donne.cin }}</td>
										<td>{{ donne.name }}</td>
										<td>{{ donne.prenom }}</td>
										<td>{{ donne.tel }}</td>
										<td>{{ donne.contatrat }}</td>
										<td>
											<a class="btn btn-warning btn-sm rounded-pill me-2" href="{{ path('ModifClient', {act: 2, id: donne.id}) }}">
												<i class="bi bi-pencil-fill"></i>
											</a>
											<a class="btn btn-primary btn-sm rounded-pill me-2" href="{{ path('actions', {act: donne.id, id: 5}) }}">
												<i class="bi bi-car-front"></i>
											</a>
											<a class="btn btn-danger btn-sm rounded-pill" href="{{ path('actions', {act: donne.id, id: 6}) }}" onclick="return confirm('Voulez-vous vraiment supprimer ?');">
												<i class="bi bi-trash-fill"></i>
											</a>
										</td>
									</tr>
								{% endfor %}
							</tbody>
						</table>
					{% else %}
						<table class="table table-light">
							{% if condition == 'Prop' %}
								<thead class="table-light">
									<tr>
										<th scope="col">cin</th>
										<th scope="col">name</th>
										<th scope="col">prenom</th>
										<th scope="col">tel</th>
										<th scope="col">contatrat</th>
										<th scope="col">idVehicule</th>
									</tr>
								</thead>
								<tbody>
									<tr class="table-light">
										<td>{{ donne.cin }}</td>
										<td>{{ donne.name }}</td>
										<td>{{ donne.prenom }}</td>
										<td>{{ donne.tel }}</td>
										<td>{{ donne.contatrat }}</td>
										<td>{{ donne.idVehicule }}</td>
									</tr>
								</tbody>
							{% elseif condition == 'Vehic' %}
								<thead class="table-light">
									<tr>
										<th scope="col">ID</th>
										<th scope="col">TYPE</th>
										<th scope="col">CATEGORIE</th>
										<th scope="col">PLACE</th>
										<th scope="col">MOTEUR</th>
										<th scope="col">MARQUE</th>
										<th scope="col">ACTION</th>
									</tr>
								</thead>
								<tbody>
									{% for donne in donne %}
										<tr class="table-light">
											<td>{{ donne.id }}</td>
											<td>{{ donne.type }}</td>
											<td>{{ donne.categorie }}</td>
											<td>{{ donne.place }}</td>
											<td>{{ donne.motereur }}</td>
											<td>{{ donne.marque }}</td>
											<td>
												{% if donne.reservation == 'reserver' %}
													<a class="btn btn-success btn-sm rounded-pill me-2" href="{{ path('actions', {act: donne.id, id: 8}) }}">
														<i class="bi bi-check-circle-fill">.</i>
														reserver
													</a>
												{% else %}
													<a class="btn btn-warning btn-sm rounded-pill me-2" href="{{ path('actions', {act: donne.id, id: 9}) }}">
														non reserver
													</a>
												{% endif %}
												<a class="btn btn-warning btn-sm rounded-pill me-2" href="{{ path('actions', {act: donne.id, id: 1}) }}">
													<i class="bi bi-pencil-fill"></i>
												</a>
												<a class="btn btn-primary btn-sm rounded-pill me-2" href="{{ path('actions', {act: donne.id, id: 2}) }}">
													<i class="bi bi-person-circle"></i>
												</a>
												<a class="btn btn-danger btn-sm rounded-pill" href="{{ path('actions', {act: donne.id, id: 3}) }}">
													<i class="bi bi-trash-fill"></i>
												</a>
											</td>
										</tr>
									{% else %}
										<tr class="table-light">
											<td colspan="7" class="text-center">Aucune donnée disponible.</td>
										</tr>
									{% endfor %}
								</tbody>
							{% elseif condition == 'discution' %}
								<thead class="table-light">
									<tr>
										<th scope="col">ID VEHICULE</th>
										<th scope="col">DISCUTION</th>
										<th scope="col">EMAIL</th>
										<th scope="col">CONTACT</th>
										<th scope="col">ACTION</th>
									</tr>
								</thead>
								<tbody>
									{% for d in donne %}
										<tr class="table-light">
											<td>{{ d.idVehicule }}</td>
											<td>{{ d.discution }}</td>
											<td>{{ d.email }}</td>
											<td>{{ d.contact }}</td>
											<td>
												<a class="btn btn-danger btn-sm rounded-pill" href="{{ path('actions', {act: d.id, id: 10}) }}" onclick="return confirm('Voulez-vous vraiment supprimer ?');">
													<i class="bi bi-trash-fill"></i>
												</a>
											</td>
										</tr>
									{% else %}
										<tr class="table-light">
											<td colspan="7" class="text-center">Aucune discussion disponible.</td>
										</tr>
									{% endfor %}
								</tbody>
							{% elseif condition == 'commande' %}
								<thead class="table-light">
									<tr>
										<th scope="col">ID</th>
										<th scope="col">NOM</th>
										<th scope="col">EMAIL</th>
										<th scope="col">DEBUT</th>
										<th scope="col">FIN</th>
										<th scope="col">ACTION</th>
									</tr>
								</thead>
								<tbody>
									{% for donne in donne %}
										<tr class="table-light">
											<td>{{ donne.id }}</td>
											<td>{{ donne.name }}</td>
											<td>{{ donne.email }}</td>
											<td>{{ donne.dateDebut ? donne.dateDebut|date('d/m/Y') : '—' }}</td>
											<td>{{ donne.dateFin ? donne.dateFin|date('d/m/Y') : '—' }}</td>
											<td>
												{% if donne.confirmer == 'xxx' %}
													<a class="btn btn-warning btn-sm rounded-pill me-2" href="{{ path('actionsVehi', {act: donne.id, act1: donne.getIdVehicule, id: 10}) }}">
														<i class="bi bi-check-circle-fill text-success"></i>
													</a>
												{% elseif donne.confirmer == 'vue' %}
													<a class="btn btn-warning btn-sm rounded-pill me-2" href="{{ path('actionsVehi', {act: donne.id, act1: donne.getIdVehicule, id: 10}) }}">
														<i class="bi bi-eye text-primary"></i>
													</a>
												{% else %}
													<a class="btn btn-warning btn-sm rounded-pill me-2" href="{{ path('actionsVehi', {act: donne.id, act1: donne.getIdVehicule, id: 7}) }}">
														<i class="bi bi-x-circle-fill text-danger"></i>
													</a>
												{% endif %}
												<a class="btn btn-danger btn-sm rounded-pill" href="{{ path('actions', {act: donne.id, id: 4}) }}" onclick="return confirm('Voulez-vous vraiment supprimer ?');">
													<i class="bi bi-trash-fill"></i>
												</a>
											</td>
										</tr>
									{% else %}
										<tr class="table-light">
											<td colspan="6" class="text-center">Aucune donnée disponible.</td>
										</tr>
									{% endfor %}
								</tbody>
							{% endif %}
						</table>
					{% endif %}
				</div>


				<!-- Partie droite : insertion -->
				<div class="col-sm-3 card p-3 bg-info-subtle fixed" style="width:23%; margin-left:2%">
					<div style=" padding-top:45%">
						<a href="{{ path('app_controlls') }}" class="btn btn-info w-100 mb-3">SIT officiel</a>
					</div>
					<div style=" padding-top:45%; padding-bottom:50%">
						<div class="btn-group w-100">
							<button type="button" class="btn btn-info dropdown-toggle w-100 " data-bs-toggle="dropdown" aria-expanded="false">
								INSERTION
							</button>
							<ul class="dropdown-menu w-100 text-ce">
								<li>
									<a class="dropdown-item" href="{{ path('insertion_tomobiles') }}">VOITURE</a>
								</li>
								<li>
									<a class="dropdown-item" href="{{ path('insertionClients', {act: 2, id: 0}) }}">CLIENT</a>
								</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
	</header>
	<footer class="mt-5 border-top py-5 text-white" style="background-color: #00223e;">
		<div class="container">
			<h2 class="text-center fw-bold mb-5">LOC.VEHICULE</h2>
			<div
				class="row">
				<!-- À propos -->
				<div class="col-md-4 mb-4">
					<h5 class="fw-bold">À propos</h5>
					<p>
						Nous proposons des services de location de voitures fiables à travers Madagascar.
												                            Réservez en ligne facilement et en toute sécurité.
					</p>
					<p class="text-white-50 small">Depuis
						{{ "now"|date("Y") }}.</p>
				</div>

				<!-- Liens utiles -->
				<div class="col-md-4 mb-4">
					<h5 class="fw-bold">Liens utiles</h5>
					<ul class="list-unstyled">
						<li>
							<a href="#" class="text-white-50 text-decoration-none">Accueil</a>
						</li>
						<li>
							<a href="#" class="text-white-50 text-decoration-none">Nos véhicules</a>
						</li>
						<li>
							<a href="#" class="text-white-50 text-decoration-none">Contact</a>
						</li>
						<li>
							<a href="#" class="text-white-50 text-decoration-none">FAQ</a>
						</li>
					</ul>
				</div>

				<!-- Contact -->
				<div class="col-md-4 mb-4">
					<h5 class="fw-bold">Nous contacter</h5>
					<p class="mb-1">
						<i class="bi bi-geo-alt-fill me-2"></i>Antananarivo, Madagascar</p>
					<p class="mb-1">
						<i class="bi bi-telephone-fill me-2"></i>+261 34 12 345 67</p>
					<p class="mb-1">
						<i class="bi bi-envelope-fill me-2"></i>contact@locationvoiture.mg</p>
					<div class="mt-3">
						<a href="https://facebook.com" target="_blank" class="text-white me-3 fs-5">
							<i class="bi bi-facebook"></i>
						</a>
						<a href="https://twitter.com" target="_blank" class="text-white me-3 fs-5">
							<i class="bi bi-twitter-x"></i>
						</a>
						<a href="https://instagram.com" target="_blank" class="text-white fs-5">
							<i class="bi bi-instagram"></i>
						</a>
					</div>
				</div>
			</div>

			<hr class="border-white-50">
			<div class="text-center small text-white-50">
				&copy;
				{{ "now"|date("Y") }}
				Location Voiture MG – Tous droits réservés.
			</div>
		</div>
	</footer>
{% endblock %}
